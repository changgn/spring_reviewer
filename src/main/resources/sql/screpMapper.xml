<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 테이블 속성 :  id,board_num -->

<mapper namespace="screp">
	<insert id="insertScrep" parameterType="command.ScrepCommand">
		insert into screp values(#{id},#{board_num})
	</insert>
	
	<select id="getScrep" parameterType="command.ScrepCommand" resultType="command.ScrepCommand">
		select * from screp where id=#{id} and board_num=#{board_num}
	</select>
	
	<select id="getScrepCountByScrepNum" parameterType="String" resultType="Integer">
		select count(board_num) from screp where id=#{id}
	</select>
	
	<select id="getCountByBoardNum" parameterType="String" resultType="Integer">
		select count(board_num) from board where id=#{id}
	</select>
	
	<select id="getIdByScrepNum" parameterType="Integer" resultType="String">
		select id from screp where board_num=#{board_num}
	</select>
	
	<delete id="deleteScrep" parameterType="command.ScrepCommand">
		delete from screp where id=#{id} and board_num=#{board_num}
	</delete>
	
	<select id="getScrepList" parameterType="command.ScrepCommand" resultType="command.ScrepCommand">
		select * from screp 
	</select>
	<select id="getScrepListById" parameterType="String" resultType="java.lang.Integer">
		select board_num from screp where id=#{id}
	</select>
	
	<select id="getCountByScrepNum" parameterType="Integer" resultType="Integer">
		select count(id) from screp where board_num=#{board_num}
	</select>
	
	<update parameterType="java.util.HashMap" id="updateScrepByBoardNum"> 
		update board set screp=#{screp}
		where board_num=#{board_num}
	</update>
	
</mapper>
